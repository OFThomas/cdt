Spatial modes = 4
Spectral modes = 1
Total dim = 4

 Two mode squeezing on modes,  0 , 1
Two mode squeezer on modes,  2 , 3
Phase shift on modes.  2 phase angle pi/2
Beamsplitter on modes,  1 , 2 angle=  pi/4

 mode transform
False

C matrix

⎡cosh(r₁)     0      0  0⎤
⎢                        ⎥
⎢   0      cosh(r₂)  0  0⎥
⎢                        ⎥
⎢   0         0      1  0⎥
⎢                        ⎥
⎣   0         0      0  1⎦

S matrix

⎡   0      sinh(r₁)  0  0⎤
⎢                        ⎥
⎢sinh(r₂)     0      0  0⎥
⎢                        ⎥
⎢   0         0      0  0⎥
⎢                        ⎥
⎣   0         0      0  0⎦


 mode transform
False

C matrix

⎡cosh(r₁)     0         0         0    ⎤
⎢                                      ⎥
⎢   0      cosh(r₂)     0         0    ⎥
⎢                                      ⎥
⎢   0         0      cosh(r₅)     0    ⎥
⎢                                      ⎥
⎣   0         0         0      cosh(r₆)⎦

S matrix

⎡   0      sinh(r₁)     0         0    ⎤
⎢                                      ⎥
⎢sinh(r₂)     0         0         0    ⎥
⎢                                      ⎥
⎢   0         0         0      sinh(r₅)⎥
⎢                                      ⎥
⎣   0         0      sinh(r₆)     0    ⎦


 mode transform
False

C matrix

⎡cosh(r₁)        0            0         0    ⎤
⎢                                            ⎥
⎢           ⅈ⋅θ₀                             ⎥
⎢   0      ℯ    ⋅cosh(r₂)     0         0    ⎥
⎢                                            ⎥
⎢   0            0         cosh(r₅)     0    ⎥
⎢                                            ⎥
⎣   0            0            0      cosh(r₆)⎦

S matrix

⎡      0         sinh(r₁)     0         0    ⎤
⎢                                            ⎥
⎢ ⅈ⋅θ₀                                       ⎥
⎢ℯ    ⋅sinh(r₂)     0         0         0    ⎥
⎢                                            ⎥
⎢      0            0         0      sinh(r₅)⎥
⎢                                            ⎥
⎣      0            0      sinh(r₆)     0    ⎦


 mode transform
False

C matrix

⎡cosh(r₁)             0                     0             0    ⎤
⎢                                                              ⎥
⎢            ⅈ⋅θ₀                                              ⎥
⎢   0       ℯ    ⋅cos(φ)⋅cosh(r₂)   ⅈ⋅sin(φ)⋅cosh(r₅)     0    ⎥
⎢                                                              ⎥
⎢             ⅈ⋅θ₀                                             ⎥
⎢   0      ⅈ⋅ℯ    ⋅sin(φ)⋅cosh(r₂)   cos(φ)⋅cosh(r₅)      0    ⎥
⎢                                                              ⎥
⎣   0                 0                     0          cosh(r₆)⎦

S matrix

⎡           0             sinh(r₁)     0              0        ⎤
⎢                                                              ⎥
⎢  ⅈ⋅θ₀                                                        ⎥
⎢ ℯ    ⋅cos(φ)⋅sinh(r₂)      0         0      ⅈ⋅sin(φ)⋅sinh(r₅)⎥
⎢                                                              ⎥
⎢   ⅈ⋅θ₀                                                       ⎥
⎢ⅈ⋅ℯ    ⋅sin(φ)⋅sinh(r₂)     0         0       cos(φ)⋅sinh(r₅) ⎥
⎢                                                              ⎥
⎣           0                0      sinh(r₆)          0        ⎦


C matrix

⎡cosh(r₁)             0                     0             0    ⎤
⎢                                                              ⎥
⎢            ⅈ⋅θ₀                                              ⎥
⎢   0       ℯ    ⋅cos(φ)⋅cosh(r₂)   ⅈ⋅sin(φ)⋅cosh(r₅)     0    ⎥
⎢                                                              ⎥
⎢             ⅈ⋅θ₀                                             ⎥
⎢   0      ⅈ⋅ℯ    ⋅sin(φ)⋅cosh(r₂)   cos(φ)⋅cosh(r₅)      0    ⎥
⎢                                                              ⎥
⎣   0                 0                     0          cosh(r₆)⎦

S matrix

⎡           0             sinh(r₁)     0              0        ⎤
⎢                                                              ⎥
⎢  ⅈ⋅θ₀                                                        ⎥
⎢ ℯ    ⋅cos(φ)⋅sinh(r₂)      0         0      ⅈ⋅sin(φ)⋅sinh(r₅)⎥
⎢                                                              ⎥
⎢   ⅈ⋅θ₀                                                       ⎥
⎢ⅈ⋅ℯ    ⋅sin(φ)⋅sinh(r₂)     0         0       cos(φ)⋅sinh(r₅) ⎥
⎢                                                              ⎥
⎣           0                0      sinh(r₆)          0        ⎦

False
          ⎡α₀₀  α₀₁  α₀₂  α₀₃  β₀₀  β₀₁  β₀₂  β₀₃⎤                
          ⎢                                      ⎥                
⎡b(0) ⎤   ⎢α₁₀  α₁₁  α₁₂  α₁₃  β₁₀  β₁₁  β₁₂  β₁₃⎥ ⎡⎡b(0)⎤ ⎤      
⎢     ⎥   ⎢                                      ⎥ ⎢⎢    ⎥ ⎥      
⎢b(1) ⎥   ⎢α₂₀  α₂₁  α₂₂  α₂₃  β₂₀  β₂₁  β₂₂  β₂₃⎥ ⎢⎢b(1)⎥ ⎥      
⎢     ⎥   ⎢                                      ⎥ ⎢⎢    ⎥ ⎥      
⎢b(2) ⎥   ⎢α₃₀  α₃₁  α₃₂  α₃₃  β₃₀  β₃₁  β₃₂  β₃₃⎥ ⎢⎢b(2)⎥ ⎥      
⎢     ⎥   ⎢                                      ⎥ ⎢⎢    ⎥ ⎥      
⎢b(3) ⎥   ⎢___  ___  ___  ___  ___  ___  ___  ___⎥ ⎢⎣b(3)⎦ ⎥      
⎢     ⎥ = ⎢β₀₀  β₀₁  β₀₂  β₀₃  α₀₀  α₀₁  α₀₂  α₀₃⎥⋅⎢       ⎥[:8, ]
⎢b+(0)⎥   ⎢                                      ⎥ ⎢⎡b+(0)⎤⎥      
⎢     ⎥   ⎢___  ___  ___  ___  ___  ___  ___  ___⎥ ⎢⎢     ⎥⎥      
⎢b+(1)⎥   ⎢β₁₀  β₁₁  β₁₂  β₁₃  α₁₀  α₁₁  α₁₂  α₁₃⎥ ⎢⎢b+(1)⎥⎥      
⎢     ⎥   ⎢                                      ⎥ ⎢⎢     ⎥⎥      
⎢b+(2)⎥   ⎢___  ___  ___  ___  ___  ___  ___  ___⎥ ⎢⎢b+(2)⎥⎥      
⎢     ⎥   ⎢β₂₀  β₂₁  β₂₂  β₂₃  α₂₀  α₂₁  α₂₂  α₂₃⎥ ⎢⎢     ⎥⎥      
⎣b+(3)⎦   ⎢                                      ⎥ ⎣⎣b+(3)⎦⎦      
          ⎢___  ___  ___  ___  ___  ___  ___  ___⎥                
          ⎣β₃₀  β₃₁  β₃₂  β₃₃  α₃₀  α₃₁  α₃₂  α₃₃⎦                














b(0) = α₀₀⋅b(0) + α₀₁⋅b(1) + α₀₂⋅b(2) + α₀₃⋅b(3) + β₀₀⋅b+(0) + β₀₁⋅b+(1) + β₀₂⋅b+(2) + β₀₃⋅b+(3)
b(1) = α₁₀⋅b(0) + α₁₁⋅b(1) + α₁₂⋅b(2) + α₁₃⋅b(3) + β₁₀⋅b+(0) + β₁₁⋅b+(1) + β₁₂⋅b+(2) + β₁₃⋅b+(3)
b(2) = α₂₀⋅b(0) + α₂₁⋅b(1) + α₂₂⋅b(2) + α₂₃⋅b(3) + β₂₀⋅b+(0) + β₂₁⋅b+(1) + β₂₂⋅b+(2) + β₂₃⋅b+(3)
b(3) = α₃₀⋅b(0) + α₃₁⋅b(1) + α₃₂⋅b(2) + α₃₃⋅b(3) + β₃₀⋅b+(0) + β₃₁⋅b+(1) + β₃₂⋅b+(2) + β₃₃⋅b+(3)
        ___         ___         ___         ___         ___        ___        ___        ___     
b+(0) = α₀₀⋅b+(0) + α₀₁⋅b+(1) + α₀₂⋅b+(2) + α₀₃⋅b+(3) + β₀₀⋅b(0) + β₀₁⋅b(1) + β₀₂⋅b(2) + β₀₃⋅b(3)
        ___         ___         ___         ___         ___        ___        ___        ___     
b+(1) = α₁₀⋅b+(0) + α₁₁⋅b+(1) + α₁₂⋅b+(2) + α₁₃⋅b+(3) + β₁₀⋅b(0) + β₁₁⋅b(1) + β₁₂⋅b(2) + β₁₃⋅b(3)
        ___         ___         ___         ___         ___        ___        ___        ___     
b+(2) = α₂₀⋅b+(0) + α₂₁⋅b+(1) + α₂₂⋅b+(2) + α₂₃⋅b+(3) + β₂₀⋅b(0) + β₂₁⋅b(1) + β₂₂⋅b(2) + β₂₃⋅b(3)
        ___         ___         ___         ___         ___        ___        ___        ___     
b+(3) = α₃₀⋅b+(0) + α₃₁⋅b+(1) + α₃₂⋅b+(2) + α₃₃⋅b+(3) + β₃₀⋅b(0) + β₃₁⋅b(1) + β₃₂⋅b(2) + β₃₃⋅b(3)





Comutator is
[α₀₀⋅b(0) + α₀₁⋅b(1) + α₀₂⋅b(2) + α₀₃⋅b(3) + β₀₀⋅b+(0) + β₀₁⋅b+(1) + β₀₂⋅b+(2) + β₀₃⋅b+(3)
,
α₁₀⋅b(0) + α₁₁⋅b(1) + α₁₂⋅b(2) + α₁₃⋅b(3) + β₁₀⋅b+(0) + β₁₁⋅b+(1) + β₁₂⋅b+(2) + β₁₃⋅b+(3)
]

 Which evaluates to:
α₀₀⋅β₁₀ + α₀₁⋅β₁₁ + α₀₂⋅β₁₂ + α₀₃⋅β₁₃ - α₁₀⋅β₀₀ - α₁₁⋅β₀₁ - α₁₂⋅β₀₂ - α₁₃⋅β₀₃

Comutator is
[α₀₀⋅b(0) + α₀₁⋅b(1) + α₀₂⋅b(2) + α₀₃⋅b(3) + β₀₀⋅b+(0) + β₀₁⋅b+(1) + β₀₂⋅b+(2) + β₀₃⋅b+(3)
,
___         ___         ___         ___         ___        ___        ___        ___     
α₀₀⋅b+(0) + α₀₁⋅b+(1) + α₀₂⋅b+(2) + α₀₃⋅b+(3) + β₀₀⋅b(0) + β₀₁⋅b(1) + β₀₂⋅b(2) + β₀₃⋅b(3)
]

 Which evaluates to:
___       ___       ___       ___       ___       ___       ___       ___    
α₀₀⋅α₀₀ + α₀₁⋅α₀₁ + α₀₂⋅α₀₂ + α₀₃⋅α₀₃ - β₀₀⋅β₀₀ - β₀₁⋅β₀₁ - β₀₂⋅β₀₂ - β₀₃⋅β₀₃
